{"version":3,"file":"static/js/331.d041bf01.chunk.js","mappings":"8PAIe,SAASA,EAAMC,GAC7B,IAAMC,GAASC,EAAAA,EAAAA,UACTC,GAAYD,EAAAA,EAAAA,UAClB,GAA2CE,EAAAA,EAAAA,WAAS,GAApD,eAAOC,EAAP,KAAsBC,EAAtB,KACMC,GAAgBL,EAAAA,EAAAA,UAoCtB,OAlCAM,EAAAA,EAAAA,YAAU,WA6BT,OA5BK,iBAAC,sGAIJC,EAAc,+BAJV,SAKEF,EAAcG,QAAQC,QALxB,OAMJF,OAAcG,EAERC,EAASC,EAAAA,EAAOC,aAAaC,SACnCf,EAAOS,QAAUG,EAAOI,eACxBd,EAAUO,QAAQQ,OAAOjB,EAAOS,SAEhCT,EAAOS,QAAQS,iBAAiB,cAAc,WAC7Cb,GAAkB,MAGnBL,EAAOS,QAAQS,iBAAiB,SAAS,SAAAC,GACxC,MAAMA,EAAMC,SAGbpB,EAAOS,QAAQY,KAAK,CACnBC,IAAKvB,EAAMwB,cAAcd,QAAQe,YAAYC,aArB1C,kDAwBJ1B,EAAMwB,cAAcd,QAAQiB,OAA5B,KAA0ClB,EAAa,cAxBnD,yDAAD,GA4BE,WACNR,EAAOS,QAAQkB,YAEd,CAAC5B,EAAMwB,cAAejB,KAGxB,kBACCsB,UAAU,eACV,cAAaC,OAAOzB,GACpB0B,IAAK5B,EAHN,WAKC,SAAC,KAAD,CAAQ6B,IAAI,oBAAoBD,IAAKxB,KACnCF,IACD,4CACS,SAAC,KAAD,2BADT","sources":["pages/compat/Flash.js"],"sourcesContent":["import { useEffect, useRef, useState } from 'react';\nimport { Script } from '../../CompatLayout.js';\nimport { Obfuscated } from '../../obfuscate.js';\n\nexport default function Flash(props) {\n\tconst player = useRef();\n\tconst container = useRef();\n\tconst [ruffle_loaded, set_ruffle_loaded] = useState(false);\n\tconst ruffle_bundle = useRef();\n\n\tuseEffect(() => {\n\t\tvoid (async function () {\n\t\t\tlet error_cause;\n\n\t\t\ttry {\n\t\t\t\terror_cause = 'Error loading Ruffle player.';\n\t\t\t\tawait ruffle_bundle.current.promise;\n\t\t\t\terror_cause = undefined;\n\n\t\t\t\tconst ruffle = global.RufflePlayer.newest();\n\t\t\t\tplayer.current = ruffle.createPlayer();\n\t\t\t\tcontainer.current.append(player.current);\n\n\t\t\t\tplayer.current.addEventListener('loadeddata', () => {\n\t\t\t\t\tset_ruffle_loaded(true);\n\t\t\t\t});\n\n\t\t\t\tplayer.current.addEventListener('error', event => {\n\t\t\t\t\tthrow event.error;\n\t\t\t\t});\n\n\t\t\t\tplayer.current.load({\n\t\t\t\t\turl: props.compat_layout.current.destination.toString(),\n\t\t\t\t});\n\t\t\t} catch (error) {\n\t\t\t\tprops.compat_layout.current.report(error, error_cause, 'Rammerhead');\n\t\t\t}\n\t\t})();\n\n\t\treturn () => {\n\t\t\tplayer.current.remove();\n\t\t};\n\t}, [props.compat_layout, ruffle_bundle]);\n\n\treturn (\n\t\t<main\n\t\t\tclassName=\"compat-flash\"\n\t\t\tdata-loaded={Number(ruffle_loaded)}\n\t\t\tref={container}\n\t\t>\n\t\t\t<Script src=\"/ruffle/ruffle.js\" ref={ruffle_bundle} />\n\t\t\t{!ruffle_loaded && (\n\t\t\t\t<>\n\t\t\t\t\tLoading <Obfuscated>Flash Player</Obfuscated>...\n\t\t\t\t</>\n\t\t\t)}\n\t\t</main>\n\t);\n}\n"],"names":["Flash","props","player","useRef","container","useState","ruffle_loaded","set_ruffle_loaded","ruffle_bundle","useEffect","error_cause","current","promise","undefined","ruffle","global","RufflePlayer","newest","createPlayer","append","addEventListener","event","error","load","url","compat_layout","destination","toString","report","remove","className","Number","ref","src"],"sourceRoot":""}