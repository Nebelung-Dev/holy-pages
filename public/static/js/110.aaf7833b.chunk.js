"use strict";(self.webpackChunkholyunblocker_website=self.webpackChunkholyunblocker_website||[]).push([[110],{895:function(e,t,n){n.d(t,{_:function(){return g},s:function(){return k}});var r=n(7567),a=n(9405),s=n(5168),c=n(6157),i=n(37),u=n(9592),o=n(6931),l=n(8427),f=n.n(l),h=n(5474),d=n(2723),m=n(57),v=n(9386),p=n(1394),x=["items"],g=function(){function e(t,n){(0,u.Z)(this,e),this.server=t,this.signal=n}return(0,o.Z)(e,[{key:"fetch",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=(0,i.Z)(f().mark((function e(t){var n,r=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=3,fetch(new URL(t,this.server),(0,c.Z)((0,c.Z)({},n),{},{signal:this.signal}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}())},{key:"game",value:function(){var e=(0,i.Z)(f().mark((function e(t){var n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch("./games/".concat(t,"/"));case 2:return n=e.sent,e.next=5,n.json();case 5:if(r=e.sent,n.ok){e.next=8;break}throw new Error(r.message||r.error);case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"game_plays",value:function(){var e=(0,i.Z)(f().mark((function e(t,n){var r,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch("./games/".concat(t,"/plays?")+new URLSearchParams({token:n}),{method:"PUT"});case 2:return r=e.sent,e.next=5,r.json();case 5:if(a=e.sent,r.ok){e.next=8;break}throw new Error(a.message||a.error);case 8:return e.abrupt("return",a);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"sort_params",value:function(e){for(var t in e)switch(typeof e[t]){case"undefined":case"object":delete e[t]}return e}},{key:"category",value:function(){var e=(0,i.Z)(f().mark((function e(t){var n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch("./games/?"+new URLSearchParams(this.sort_params(t)));case 2:return n=e.sent,e.next=5,n.json();case 5:if(r=e.sent,n.ok){e.next=8;break}throw new Error(r.message||r.error);case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function y(e){var t=(0,h.useState)(!1),n=(0,s.Z)(t,2),r=n[0],a=n[1];return(0,p.jsxs)(d.rU,{className:"item",to:"".concat((0,v.Z)("/theatre/","player"),"?id=").concat(e.id),children:[(0,p.jsx)("div",{className:"thumbnail","data-loaded":Number(r),children:(0,p.jsx)("img",{alt:"",loading:"lazy",onLoad:function(){return a(!0)},src:"/thumbnails/".concat(e.id,".webp")})}),(0,p.jsx)("div",{className:"name",children:(0,p.jsx)(m.mj,{ellipsis:!0,children:e.name})})]})}function w(){return(0,p.jsxs)("div",{className:"item loading",children:[(0,p.jsx)("div",{className:"thumbnail"}),(0,p.jsx)("div",{className:"name"})]})}function k(e){var t,n=e.items,s=(0,a.Z)(e,x),i=[],u=(0,r.Z)(n);try{for(u.s();!(t=u.n()).done;){var o=t.value;o.loading?i.push((0,p.jsx)(w,{id:o.id},o.id)):i.push((0,p.jsx)(y,{id:o.id,name:o.name},o.id))}}catch(l){u.e(l)}finally{u.f()}return(0,p.jsx)("div",(0,c.Z)((0,c.Z)({},s),{},{children:i}))}},3600:function(e,t,n){n.r(t),n.d(t,{default:function(){return v}});var r=n(6157),a=n(7567),s=n(37),c=n(5168),i=n(8427),u=n.n(i),o=n(5474),l=n(3285),f=n(895),h=n(57),d=(n(2481),n(1394)),m=/TypeError: Failed to fetch/;function v(e){var t=(0,o.useState)((function(){return e.layout.current.settings.favorite_games.map((function(e){return{loading:!0,id:e}}))})),n=(0,c.Z)(t,2),i=n[0],v=n[1];return(0,o.useEffect)((function(){var t=new AbortController;return(0,s.Z)(u().mark((function n(){var s,c,i,o,h;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:s=new f._(l.YA,t.signal),c=[],i=(0,a.Z)(e.layout.current.settings.favorite_games),n.prev=3,i.s();case 5:if((o=i.n()).done){n.next=20;break}return h=o.value,n.prev=7,n.t0=c,n.next=11,s.game(h);case 11:n.t1=n.sent,n.t0.push.call(n.t0,n.t1),n.next=18;break;case 15:n.prev=15,n.t2=n.catch(7),m.test(n.t2)||(console.warn("Unable to fetch game:",h,n.t2),e.layout.current.settings.favorite_games.splice(e.layout.current.settings.favorite_games.indexOf(h),1));case 18:n.next=5;break;case 20:n.next=25;break;case 22:n.prev=22,n.t3=n.catch(3),i.e(n.t3);case 25:return n.prev=25,i.f(),n.finish(25);case 28:e.layout.current.set_settings((0,r.Z)({},e.layout.current.settings)),v(c);case 30:case"end":return n.stop()}}),n,null,[[3,22,25,28],[7,15]])})))(),function(){return t.abort()}}),[e.layout]),0===e.layout.current.settings.favorite_games.length?(0,d.jsx)("main",{className:"error",children:(0,d.jsx)("p",{children:"You haven't added any favorite games."})}):(0,d.jsx)("main",{className:"theatre-category",children:(0,d.jsxs)("section",{children:[(0,d.jsx)("div",{className:"name",children:(0,d.jsx)("h1",{children:(0,d.jsx)(h.mj,{children:"Favorites"})})}),(0,d.jsx)("div",{className:"items",children:(0,d.jsx)(f.s,{items:i})})]})})}},2481:function(){}}]);
//# sourceMappingURL=110.aaf7833b.chunk.js.map