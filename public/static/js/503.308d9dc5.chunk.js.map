{"version":3,"file":"static/js/503.308d9dc5.chunk.js","mappings":"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","sources":["ThemeElements.js","../node_modules/@mui/icons-material/esm/Check.js","pages/settings/TabCloak.js"],"sourcesContent":["import { ExpandMore } from '@mui/icons-material';\nimport { useState, useRef, forwardRef } from 'react';\nimport clsx from 'clsx';\nimport './styles/ThemeElements.scss';\n\nexport function ThemeButton(props) {\n\tconst { children, className, ...attributes } = props;\n\n\treturn (\n\t\t<button\n\t\t\ttype=\"button\"\n\t\t\tclassName={clsx('theme-button', className)}\n\t\t\t{...attributes}\n\t\t>\n\t\t\t{children}\n\t\t</button>\n\t);\n}\n\nexport function ThemeInputBar(props) {\n\tconst { children, className, ...attributes } = props;\n\n\treturn (\n\t\t<div className={clsx('theme-input-bar', className)} {...attributes}>\n\t\t\t{children}\n\t\t</div>\n\t);\n}\n\nexport const ThemeInput = forwardRef((props, ref) => {\n\tconst { children, className, ...attributes } = props;\n\n\treturn (\n\t\t<input ref={ref} className={clsx('theme-input', className)} {...attributes}>\n\t\t\t{children}\n\t\t</input>\n\t);\n});\n\n// <select ref={dummy_ref} forwardRef={ref}>\n\nexport const ThemeSelect = forwardRef((props, ref) => {\n\t// ref target\n\tconst input = useRef();\n\tconst container = useRef();\n\tconst [last_select, set_last_select] = useState(-1);\n\tconst [open, set_open] = useState(false);\n\n\tasync function set_selected(value) {\n\t\tawait _set_selected(value);\n\t\tawait set_open(false);\n\n\t\tif (typeof props.onChange === 'function') {\n\t\t\tprops.onChange({ target: input.current });\n\t\t}\n\t}\n\n\tconst { className, onChange, children, ...attributes } = props;\n\n\tconst list = [];\n\n\tconst options = [];\n\tconst available_options = [];\n\n\tlet default_selected = 0;\n\n\tfor (let child of children) {\n\t\tif (child.type === 'option') {\n\t\t\tconst option = {\n\t\t\t\tname: child.props.children,\n\t\t\t\tvalue: child.props.value,\n\t\t\t\tdisabled: 'disabled' in child.props,\n\t\t\t};\n\n\t\t\tif (option.value === (props.value || props.defaultValue)) {\n\t\t\t\tdefault_selected = options.length;\n\t\t\t}\n\n\t\t\tif (!option.disabled) {\n\t\t\t\tavailable_options.push(options.length);\n\t\t\t}\n\n\t\t\toptions.push(option);\n\t\t}\n\t}\n\n\tconst [selected, _set_selected] = useState(default_selected);\n\n\tfor (let i = 0; i < options.length; i++) {\n\t\tconst option = options[i];\n\n\t\tlist.push(\n\t\t\t<div\n\t\t\t\tclassName={clsx(\n\t\t\t\t\t'plain-option',\n\t\t\t\t\ti === last_select && 'hover',\n\t\t\t\t\toption.disabled && 'disabled'\n\t\t\t\t)}\n\t\t\t\tkey={i}\n\t\t\t\tonClick={() => {\n\t\t\t\t\tif (!option.disabled) {\n\t\t\t\t\t\tset_selected(i);\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t\tonMouseOver={() => {\n\t\t\t\t\tif (!option.disabled) {\n\t\t\t\t\t\tset_last_select(i);\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{option.name}\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div\n\t\t\t{...attributes}\n\t\t\ttabIndex={0}\n\t\t\tclassName={clsx('theme-select', className)}\n\t\t\tdata-open={Number(open)}\n\t\t\tref={container}\n\t\t\tonKeyDown={event => {\n\t\t\t\tlet prevent_default = true;\n\n\t\t\t\tswitch (event.code) {\n\t\t\t\t\tcase 'ArrowDown':\n\t\t\t\t\tcase 'ArrowUp':\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlet last_i = last_select;\n\t\t\t\t\t\t\tlet last_i_available = available_options.indexOf(\n\t\t\t\t\t\t\t\t[...available_options].sort(\n\t\t\t\t\t\t\t\t\t(a, b) => Math.abs(a - last_i) - Math.abs(b - last_i)\n\t\t\t\t\t\t\t\t)[0]\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tlet next;\n\n\t\t\t\t\t\t\tswitch (event.code) {\n\t\t\t\t\t\t\t\tcase 'ArrowDown':\n\t\t\t\t\t\t\t\t\tif (last_i_available === available_options.length - 1) {\n\t\t\t\t\t\t\t\t\t\tnext = 0;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tnext = last_i_available + 1;\n\t\t\t\t\t\t\t\t\t\tif (options[last_i].disabled) {\n\t\t\t\t\t\t\t\t\t\t\tnext--;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase 'ArrowUp':\n\t\t\t\t\t\t\t\t\tif (last_i_available === 0) {\n\t\t\t\t\t\t\t\t\t\tnext = available_options.length - 1;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tnext = last_i_available - 1;\n\t\t\t\t\t\t\t\t\t\tif (options[last_i].disabled) {\n\t\t\t\t\t\t\t\t\t\t\tnext--;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t// no default\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tconst next_i = available_options[next];\n\n\t\t\t\t\t\t\tset_last_select(next_i);\n\n\t\t\t\t\t\t\tif (!open) {\n\t\t\t\t\t\t\t\tset_selected(next_i);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'Enter':\n\t\t\t\t\t\tif (open) {\n\t\t\t\t\t\t\tset_selected(last_select);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tset_open(true);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'Space':\n\t\t\t\t\t\tset_open(true);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tprevent_default = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t// no default\n\t\t\t\t}\n\n\t\t\t\tif (prevent_default) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t}}\n\t\t\tonBlur={event => {\n\t\t\t\tif (!event.target.contains(event.relatedTarget)) {\n\t\t\t\t\tset_open(false);\n\t\t\t\t}\n\t\t\t}}\n\t\t>\n\t\t\t<input ref={input} value={options[selected]?.value} readOnly hidden />\n\t\t\t<div\n\t\t\t\tclassName=\"toggle\"\n\t\t\t\tonClick={async () => {\n\t\t\t\t\tset_open(!open);\n\t\t\t\t\tset_last_select(selected);\n\t\t\t\t\tcontainer.current.focus();\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{options[selected]?.name}\n\t\t\t\t<ExpandMore />\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclassName=\"list\"\n\t\t\t\tonMouseLeave={() => {\n\t\t\t\t\tset_last_select(-1);\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{list}\n\t\t\t</div>\n\t\t</div>\n\t);\n});\n","import createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\"\n}), 'Check');","import BareClient from 'bare-client';\nimport { useRef } from 'react';\nimport { Notification } from '../../Notifications.js';\nimport { Obfuscated } from '../../obfuscate.js';\nimport { BARE_API } from '../../root.js';\nimport { Check } from '@mui/icons-material';\nimport { ThemeButton, ThemeInputBar } from '../../ThemeElements.js';\n\nconst bare = new BareClient(BARE_API);\n\nasync function extract_data(url) {\n\tconst response = await bare.fetch(url, {\n\t\tredirect: 'follow',\n\t});\n\n\tif (!response.ok) {\n\t\tthrow new Error(`Response was not OK. Got ${response.status}`);\n\t}\n\n\tconst parser = new DOMParser();\n\n\tconst dom = parser.parseFromString(`${await response.text()}`, 'text/html');\n\n\tconst base = document.createElement('base');\n\tbase.href = url;\n\n\tdom.head.append(base);\n\n\tlet icon;\n\tlet title;\n\n\t{\n\t\tconst selector = dom.querySelector('link[rel*=\"icon\"]');\n\n\t\tif (selector !== null && selector.href !== '') {\n\t\t\ticon = selector.href;\n\t\t} else {\n\t\t\ticon = new URL('/favicon.ico', url).toString();\n\t\t}\n\t}\n\n\tconst outgoing = await bare.fetch(icon, { redirect: 'follow' });\n\n\ticon = await blobToDataURL(\n\t\tnew Blob([await outgoing.arrayBuffer()], {\n\t\t\ttype: outgoing.headers.get('content-type'),\n\t\t})\n\t);\n\n\t{\n\t\tconst selector = dom.querySelector('title');\n\n\t\tif (selector !== null && selector.textContent !== '') {\n\t\t\ttitle = selector.textContent;\n\t\t} else {\n\t\t\tconst url = response.finalURL;\n\t\t\ttitle = `${url.host}${url.pathname}${url.search}${url.query}`;\n\t\t}\n\t}\n\n\treturn { icon, title, url: response.finalURL };\n}\n\nconst whitespace = /\\s+/;\nconst protocol = /^\\w+:/;\n\nfunction resolve_url(input) {\n\tif (input.match(protocol)) {\n\t\treturn input;\n\t} else if (input.includes('.') && !input.match(whitespace)) {\n\t\treturn `http://${input}`;\n\t} else {\n\t\tthrow new Error('Bad URL');\n\t}\n}\n\n/**\n *\n * @param {string} url\n * @returns {{title:string,icon:string,url:string}}\n */\nasync function cloak_url(url) {\n\tswitch (url) {\n\t\tcase 'about:blank':\n\t\t\treturn {\n\t\t\t\ttitle: 'about:blank',\n\t\t\t\ticon: 'none',\n\t\t\t\turl: 'about:blank',\n\t\t\t};\n\t\tdefault:\n\t\t\treturn await extract_data(url);\n\t}\n}\n\nasync function blobToDataURL(blob) {\n\tconst reader = new FileReader();\n\n\treturn new Promise((resolve, reject) => {\n\t\treader.addEventListener('load', () => resolve(reader.result));\n\t\treader.addEventListener('error', reject);\n\t\treader.readAsDataURL(blob);\n\t});\n}\n\nexport default function TabCloak(props) {\n\tconst input = useRef();\n\n\tasync function onSubmit() {\n\t\ttry {\n\t\t\tprops.layout.current.notifications.current.add(\n\t\t\t\t<Notification description=\"Fetching...\" type=\"info\" />\n\t\t\t);\n\n\t\t\tconst { title, icon, url } = await cloak_url(\n\t\t\t\tresolve_url(input.current.value)\n\t\t\t);\n\n\t\t\tinput.current.value = url;\n\n\t\t\tprops.layout.current.set_cloak({\n\t\t\t\ttitle,\n\t\t\t\ticon,\n\t\t\t\turl,\n\t\t\t});\n\n\t\t\tprops.layout.current.notifications.current.add(\n\t\t\t\t<Notification description=\"Cloak set\" type=\"success\" />\n\t\t\t);\n\t\t} catch (error) {\n\t\t\tprops.layout.current.notifications.current.add(\n\t\t\t\t<Notification description={error.message} type=\"error\" />\n\t\t\t);\n\t\t}\n\t}\n\n\treturn (\n\t\t<section>\n\t\t\t<div>\n\t\t\t\t<Obfuscated>\n\t\t\t\t\tTab Cloaking allows you to disguise Holy Unblocker as any website such\n\t\t\t\t\tas your school's home page, new tab, etc.\n\t\t\t\t</Obfuscated>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<span>\n\t\t\t\t\t<Obfuscated>URL</Obfuscated>:\n\t\t\t\t</span>\n\t\t\t\t<form\n\t\t\t\t\tonSubmit={event => {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tonSubmit();\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<ThemeInputBar>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclassName=\"thin-pad-right\"\n\t\t\t\t\t\t\tdefaultValue={props.layout.current.cloak.url}\n\t\t\t\t\t\t\tplaceholder=\"https://example.org/\"\n\t\t\t\t\t\t\tref={input}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Check onClick={onSubmit} className=\"button right\" />\n\t\t\t\t\t</ThemeInputBar>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<ThemeButton\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tprops.layout.current.set_cloak({\n\t\t\t\t\t\t\ttitle: '',\n\t\t\t\t\t\t\ticon: '',\n\t\t\t\t\t\t\turl: '',\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tinput.current.value = '';\n\n\t\t\t\t\t\tprops.layout.current.notifications.current.add(\n\t\t\t\t\t\t\t<Notification description=\"Cloak reset\" type=\"info\" />\n\t\t\t\t\t\t);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Obfuscated>Reset Cloak</Obfuscated>\n\t\t\t\t</ThemeButton>\n\t\t\t</div>\n\t\t</section>\n\t);\n}\n"],"names":["ThemeButton","props","children","className","attributes","type","clsx","ThemeInputBar","ThemeInput","forwardRef","ref","ThemeSelect","input","useRef","container","useState","last_select","set_last_select","open","set_open","set_selected","value","_set_selected","onChange","target","current","list","options","available_options","default_selected","child","option","name","disabled","defaultValue","length","push","selected","i","onClick","onMouseOver","tabIndex","Number","onKeyDown","event","prevent_default","code","next","last_i","last_i_available","indexOf","sort","a","b","Math","abs","next_i","preventDefault","onBlur","contains","relatedTarget","readOnly","hidden","focus","onMouseLeave","createSvgIcon","_jsx","d","bare","BareClient","BARE_API","extract_data","url","fetch","redirect","response","ok","Error","status","parser","DOMParser","text","dom","parseFromString","base","document","createElement","href","head","append","selector","querySelector","icon","URL","toString","outgoing","blobToDataURL","Blob","arrayBuffer","headers","get","textContent","title","finalURL","host","pathname","search","query","whitespace","protocol","resolve_url","match","includes","cloak_url","blob","reader","FileReader","Promise","resolve","reject","addEventListener","result","readAsDataURL","TabCloak","onSubmit","layout","notifications","add","description","set_cloak","message","cloak","placeholder","Check"],"sourceRoot":""}