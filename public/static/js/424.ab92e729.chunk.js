"use strict";(self.webpackChunkholyunblocker_website=self.webpackChunkholyunblocker_website||[]).push([[424],{6424:function(e,r,t){t.r(r),t.d(r,{default:function(){return f}});var n=t(5861),s=t(5671),a=t(3144),o=t(136),c=t(3668),u=t(7757),i=t.n(u),h=t(2791),l=t(5829),v=t(9911),p=function(){function e(r){(0,s.Z)(this,e),this.server=r}return(0,a.Z)(e,[{key:"show_voucher",value:function(){var e=(0,n.Z)(i().mark((function e(r,t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(new URL("./vouchers/".concat(r,"/"),this.server),{signal:t});case 2:if((n=e.sent).ok){e.next=7;break}return e.next=6,n.json();case 6:throw e.sent;case 7:return e.next=9,n.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e,this)})));return function(r,t){return e.apply(this,arguments)}}()},{key:"redeem_voucher",value:function(){var e=(0,n.Z)(i().mark((function e(r,t,n){var s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(new URL("./vouchers/".concat(r,"/"),this.server),{signal:n,method:"POST",body:JSON.stringify({domain:t})});case 2:if((s=e.sent).ok){e.next=7;break}return e.next=6,s.json();case 6:throw e.sent;case 7:return e.next=9,s.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e,this)})));return function(r,t,n){return e.apply(this,arguments)}}()}]),e}(),d=t(184),f=function(e){(0,o.Z)(t,e);var r=(0,c.Z)(t);function t(e){var n;return(0,s.Z)(this,t),(n=r.call(this,e)).voucher=(0,h.createRef)(),n.domain=(0,h.createRef)(),n.api=new p(v.OP),n.abort=new AbortController,n.state={},n}return(0,a.Z)(t,[{key:"render",value:function(){var e=this;return(0,v.jQ)("private-links"),(0,d.jsxs)("main",{children:[(0,d.jsxs)("p",{children:["To use this service, you will need a voucher. Purchase a voucher"," ",(0,d.jsx)(l.pt,{href:v.dp,children:"here"}),"."]}),(0,d.jsxs)("form",{onSubmit:function(){var r=(0,n.Z)(i().mark((function r(t){return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.preventDefault(),e.abort.abort(),e.abort=new AbortController,r.prev=3,r.next=6,e.api.redeem_voucher(e.voucher.current.value,e.domain.current.value,e.abort.signal);case 6:r.next=11;break;case 8:r.prev=8,r.t0=r.catch(3),"The operation was aborted"!==r.t0.message&&"The user aborted a request."!==r.t0.message&&(console.error(r.t0),e.setState({error:r.t0}));case 11:case"end":return r.stop()}}),r,null,[[3,8]])})));return function(e){return r.apply(this,arguments)}}(),className:"redeem",children:[(0,d.jsx)("input",{onChange:(0,n.Z)(i().mark((function r(){var t,n;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.abort.abort(),e.abort=new AbortController,r.prev=2,r.next=5,e.api.show_voucher(e.voucher.current.value,e.abort.signal);case 5:t=r.sent,n=t.tld,e.setState({tld:n}),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(2),"The user aborted a request."!==r.t0.message&&(console.error(r.t0),e.setState({error:r.t0}));case 13:case"end":return r.stop()}}),r,null,[[2,10]])}))),ref:this.voucher,placeholder:"Voucher",className:"theme-input"}),(0,d.jsxs)("div",{className:"theme-input-bar",children:[(0,d.jsx)("input",{placeholder:"Domain",ref:this.domain}),(0,d.jsx)("div",{className:"tld",children:this.state.tld||".com"})]}),(0,d.jsx)("button",{type:"submit",children:"Redeem"}),(0,d.jsx)("div",{className:"error",children:void 0!==this.state.error&&this.state.error.toString()})]})]})}}]),t}(h.Component)}}]);
//# sourceMappingURL=424.ab92e729.chunk.js.map