{"version":3,"file":"static/js/867.0a0efb8b.chunk.js","mappings":"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","sources":["CompatModule.js","RammerheadAPI.js","pages/compat/Rammerhead.js"],"sourcesContent":["import { Component, createRef, forwardRef } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport Layout from './Layout.js';\nimport { Obfuscated } from './obfuscate.js';\nimport { set_page } from './root.js';\nimport { resolveRoute } from './Routes.js';\nimport './styles/Compat.scss';\n\nexport default class CompatModule extends Component {\n\tlayout = new Layout();\n\tcontainer = createRef();\n\tstate = {\n\t\terror: undefined,\n\t\tpossible_error: undefined,\n\t};\n\tname = 'Generic Proxy';\n\tscripts = new Map();\n\tload_script(src) {\n\t\tif (this.scripts.has(src)) {\n\t\t\treturn Promise.resolve();\n\t\t}\n\n\t\tconst script = document.createElement('script');\n\t\tscript.src = src;\n\t\tscript.async = true;\n\n\t\tconst promise = new Promise((resolve, reject) => {\n\t\t\tscript.addEventListener('load', () => {\n\t\t\t\tresolve();\n\t\t\t});\n\n\t\t\tscript.addEventListener('error', () => {\n\t\t\t\treject();\n\t\t\t});\n\t\t});\n\n\t\tdocument.body.append(script);\n\n\t\tthis.scripts.set(src, script);\n\n\t\treturn promise;\n\t}\n\tget destination() {\n\t\tif (this.props.location.hash === '') {\n\t\t\tthrow new Error('No hash was provided');\n\t\t}\n\n\t\treturn new URL(this.props.location.hash.slice(1));\n\t}\n\tredirect(url) {\n\t\tglobal.location.assign(url);\n\t}\n\tasync _componentDidMount() {}\n\tasync componentDidMount() {\n\t\ttry {\n\t\t\tawait this._componentDidMount();\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t\tthis.setState({\n\t\t\t\terror: error.stack,\n\t\t\t});\n\t\t}\n\t}\n\tasync componentWillUnmount() {\n\t\tfor (let [src, script] of this.scripts) {\n\t\t\tscript.remove();\n\t\t\tthis.scripts.delete(src);\n\t\t}\n\t}\n\tasync possible_error(message) {\n\t\t// errors must be VERY verbose for the user\n\t\tthis.setState({\n\t\t\tpossible_error: message,\n\t\t});\n\t}\n\trender() {\n\t\tset_page('compat');\n\n\t\tif (this.state.error !== undefined) {\n\t\t\tlet description;\n\n\t\t\tif (this.state.possible_error === undefined) {\n\t\t\t\tdescription = <pre>{this.state.error}</pre>;\n\t\t\t} else {\n\t\t\t\tdescription = <pre>{this.state.possible_error}</pre>;\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<main ref={this.container}>\n\t\t\t\t\t<span>\n\t\t\t\t\t\tAn error occured when loading <Obfuscated>{this.name}</Obfuscated>:\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t{description}\n\t\t\t\t\t</span>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tTry again by clicking{' '}\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref=\"i:\"\n\t\t\t\t\t\t\tonClick={event => {\n\t\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\t\tglobal.location.reload();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\there\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t.\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\tIf this problem still occurs, check our{' '}\n\t\t\t\t\t\t<Link to={resolveRoute('/', 'faq')} target=\"_parent\">\n\t\t\t\t\t\t\tFAQ\n\t\t\t\t\t\t</Link>{' '}\n\t\t\t\t\t\tor{' '}\n\t\t\t\t\t\t<Link to={resolveRoute('/', 'contact')} target=\"_parent\">\n\t\t\t\t\t\t\tContact Us\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t.\n\t\t\t\t\t</p>\n\t\t\t\t</main>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<main ref={this.container}>\n\t\t\t\t<p>\n\t\t\t\t\t<Obfuscated>{this.name}</Obfuscated> is loading...\n\t\t\t\t</p>\n\t\t\t</main>\n\t\t);\n\t}\n}\n\nexport function wrapCompat(Element) {\n\treturn forwardRef((props, ref) => {\n\t\treturn <Element {...props} ref={ref} location={useLocation()} />;\n\t});\n}\n","export class RammerheadAPI {\n\tconstructor(app) {\n\t\tthis.app = app;\n\t}\n\tasync get(url) {\n\t\tif (this.password) {\n\t\t\t// really cheap way of adding a query parameter\n\t\t\tif (url.includes('?')) {\n\t\t\t\turl += '&pwd=' + this.password;\n\t\t\t} else {\n\t\t\t\turl += '?pwd=' + this.password;\n\t\t\t}\n\t\t}\n\n\t\tvar request = new XMLHttpRequest();\n\t\trequest.open('GET', new URL(url, this.app), true);\n\n\t\tconst promise = new Promise((resolve, reject) => {\n\t\t\trequest.addEventListener('error', () => {\n\t\t\t\treject(new Error('Cannot communicate with the server'));\n\t\t\t});\n\n\t\t\trequest.addEventListener('load', () => {\n\t\t\t\tif (request.status === 200) {\n\t\t\t\t\tresolve(request.responseText);\n\t\t\t\t} else {\n\t\t\t\t\treject(\n\t\t\t\t\t\tnew Error(\n\t\t\t\t\t\t\t`unexpected server response to not match \"200\". Server says \"${request.responseText}\"`\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\trequest.send();\n\n\t\treturn await promise;\n\t}\n\tasync needpassword(callback) {\n\t\tconst value = await this.get('needpassword');\n\n\t\treturn value === 'true';\n\t}\n\tasync newsession() {\n\t\treturn await this.get('newsession');\n\t}\n\tasync editsession(id, httpProxy, enableShuffling) {\n\t\tconst res = await this.get(\n\t\t\t'editsession?id=' +\n\t\t\t\tencodeURIComponent(id) +\n\t\t\t\t(httpProxy ? '&httpProxy=' + encodeURIComponent(httpProxy) : '') +\n\t\t\t\t'&enableShuffling=' +\n\t\t\t\t(enableShuffling ? '1' : '0')\n\t\t);\n\n\t\tif (res !== 'Success') {\n\t\t\tthrow new Error(`unexpected response from server. received ${res}`);\n\t\t}\n\t}\n\tasync sessionexists(id) {\n\t\tconst res = await this.get('sessionexists?id=' + encodeURIComponent(id));\n\n\t\tswitch (res) {\n\t\t\tcase 'exists':\n\t\t\t\treturn true;\n\t\t\tcase 'not found':\n\t\t\t\treturn false;\n\t\t\tdefault:\n\t\t\t\tthrow new Error(`unexpected response from server. received ${res}`);\n\t\t}\n\t}\n\tasync deletesession(id) {\n\t\tif (await this.sessionexists(id)) {\n\t\t\tconst res = await this.get('deletesession?id=' + id);\n\n\t\t\tif (res !== 'Success' && res !== 'not found') {\n\t\t\t\tthrow new Error(`unexpected response from server. received ${res}`);\n\t\t\t}\n\t\t}\n\t}\n\tasync shuffleDict(id) {\n\t\tconst res = await this.get('api/shuffleDict?id=' + encodeURIComponent(id));\n\t\treturn JSON.parse(res);\n\t}\n}\n\nexport class StrShuffler {\n\tmod(n, m) {\n\t\treturn ((n % m) + m) % m;\n\t}\n\tbaseDictionary =\n\t\t'0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz~-';\n\tshuffledIndicator = '_rhs';\n\tgenerateDictionary() {\n\t\tlet str = '';\n\t\tconst split = this.baseDictionary.split('');\n\t\twhile (split.length > 0) {\n\t\t\tstr += split.splice(Math.floor(Math.random() * split.length), 1)[0];\n\t\t}\n\t\treturn str;\n\t}\n\tconstructor(dictionary = this.generateDictionary()) {\n\t\tthis.dictionary = dictionary;\n\t}\n\tshuffle(str) {\n\t\tstr = str.toString();\n\t\tif (str.startsWith(this.shuffledIndicator)) {\n\t\t\treturn str;\n\t\t}\n\t\tlet shuffledStr = '';\n\t\tfor (let i = 0; i < str.length; i++) {\n\t\t\tconst char = str.charAt(i);\n\t\t\tconst idx = this.baseDictionary.indexOf(char);\n\t\t\tif (char === '%' && str.length - i >= 3) {\n\t\t\t\tshuffledStr += char;\n\t\t\t\tshuffledStr += str.charAt(++i);\n\t\t\t\tshuffledStr += str.charAt(++i);\n\t\t\t} else if (idx === -1) {\n\t\t\t\tshuffledStr += char;\n\t\t\t} else {\n\t\t\t\tshuffledStr += this.dictionary.charAt(\n\t\t\t\t\tthis.mod(idx + i, this.baseDictionary.length)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\treturn this.shuffledIndicator + shuffledStr;\n\t}\n\tunshuffle(str) {\n\t\tif (!str.startsWith(this.shuffledIndicator)) {\n\t\t\treturn str;\n\t\t}\n\n\t\tstr = str.slice(this.shuffledIndicator.length);\n\n\t\tlet unshuffledStr = '';\n\t\tfor (let i = 0; i < str.length; i++) {\n\t\t\tconst char = str.charAt(i);\n\t\t\tconst idx = this.dictionary.indexOf(char);\n\t\t\tif (char === '%' && str.length - i >= 3) {\n\t\t\t\tunshuffledStr += char;\n\t\t\t\tunshuffledStr += str.charAt(++i);\n\t\t\t\tunshuffledStr += str.charAt(++i);\n\t\t\t} else if (idx === -1) {\n\t\t\t\tunshuffledStr += char;\n\t\t\t} else {\n\t\t\t\tunshuffledStr += this.baseDictionary.charAt(\n\t\t\t\t\tthis.mod(idx - i, this.baseDictionary.length)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\treturn unshuffledStr;\n\t}\n}\n","import CompatModule, { wrapCompat } from '../../CompatModule.js';\nimport { RammerheadAPI, StrShuffler } from '../../RammerheadAPI.js';\nimport { RH_APP } from '../../root.js';\n\nclass Rammerhead extends CompatModule {\n\tname = 'Rammerhead';\n\tapi = new RammerheadAPI(RH_APP);\n\t/**\n\t * @returns {string|undefined} value\n\t */\n\tget session() {\n\t\treturn localStorage.rammerhead_session;\n\t}\n\t/**\n\t * @param {string} value\n\t */\n\tset session(value) {\n\t\tlocalStorage.rammerhead_session = value;\n\t}\n\tasync _componentDidMount() {\n\t\tawait this.possible_error('Rammerhead server is unreachable.');\n\t\tawait fetch(RH_APP);\n\t\tawait this.possible_error();\n\n\t\tawait this.possible_error('Unable to check if the saved session exists.');\n\t\tif (!this.session || !(await this.api.sessionexists(this.session))) {\n\t\t\tawait this.possible_error('Unable to create a new Rammerhead session.');\n\t\t\tconst session = await this.api.newsession();\n\t\t\tawait this.possible_error();\n\t\t\tthis.session = session;\n\t\t}\n\t\tawait this.possible_error();\n\n\t\tawait this.possible_error('Unable to edit a Rammerhead session.');\n\t\tawait this.api.editsession(this.session, false, true);\n\t\tawait this.possible_error();\n\n\t\tawait this.possible_error('Unable to retrieve shuffled dictionary.');\n\t\tconst dict = await this.api.shuffleDict(this.session);\n\t\tawait this.possible_error();\n\n\t\tconst shuffler = new StrShuffler(dict);\n\n\t\tthis.redirect(\n\t\t\tnew URL(`${this.session}/${shuffler.shuffle(this.destination)}`, RH_APP)\n\t\t);\n\t}\n}\n\nexport default wrapCompat(Rammerhead);\n"],"names":["CompatModule","layout","Layout","container","createRef","state","error","undefined","possible_error","name","scripts","Map","src","this","has","Promise","resolve","script","document","createElement","async","promise","reject","addEventListener","body","append","set","props","location","hash","Error","URL","slice","url","global","assign","_componentDidMount","console","setState","stack","remove","delete","message","description","set_page","ref","href","onClick","event","preventDefault","reload","to","resolveRoute","target","Component","wrapCompat","Element","forwardRef","useLocation","RammerheadAPI","app","password","includes","request","XMLHttpRequest","open","status","responseText","send","callback","get","value","id","httpProxy","enableShuffling","encodeURIComponent","res","sessionexists","JSON","parse","StrShuffler","dictionary","generateDictionary","baseDictionary","shuffledIndicator","n","m","str","split","length","splice","Math","floor","random","toString","startsWith","shuffledStr","i","char","charAt","idx","indexOf","mod","unshuffledStr","Rammerhead","api","RH_APP","localStorage","rammerhead_session","fetch","session","newsession","editsession","shuffleDict","dict","shuffler","redirect","shuffle","destination"],"sourceRoot":""}