(self.webpackChunkholyunblocker_website=self.webpackChunkholyunblocker_website||[]).push([[536],{7228:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports},2858:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},1506:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},4575:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},3913:function(e){function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},9754:function(e){function t(r){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},2205:function(e,t,r){var n=r(9489);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},5318:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},3884:function(e){e.exports=function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s=[],o=!0,c=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(s.push(n.value),!t||s.length!==t);o=!0);}catch(i){c=!0,a=i}finally{try{o||null==r.return||r.return()}finally{if(c)throw a}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports},521:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},8585:function(e,t,r){var n=r(8).default,a=r(1506);e.exports=function(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return a(e)},e.exports.__esModule=!0,e.exports.default=e.exports},9489:function(e){function t(r,n){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},3038:function(e,t,r){var n=r(2858),a=r(3884),s=r(379),o=r(521);e.exports=function(e,t){return n(e)||a(e,t)||s(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},8:function(e){function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},379:function(e,t,r){var n=r(7228);e.exports=function(e,t){if(e){if("string"===typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},6740:function(e,t,r){"use strict";r.d(t,{$0:function(){return b},_V:function(){return v},sr:function(){return y}});var n=r(7762),a=r(885),s=r(5861),o=r(5671),c=r(3144),i=r(7757),u=r.n(i),l=r(2791),p=r(3504),d=r(5829),h=r(9040),f=r(184),v=function(){function e(t){(0,o.Z)(this,e),this.server=t}return(0,c.Z)(e,[{key:"game",value:function(){var e=(0,s.Z)(u().mark((function e(t){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(new URL("./games/".concat(t,"/"),this.server));case 2:if((r=e.sent).ok){e.next=7;break}return e.next=6,r.json();case 6:throw e.sent;case 7:return e.next=9,r.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"game_plays",value:function(){var e=(0,s.Z)(u().mark((function e(t,r){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(new URL("./games/".concat(t,"/plays?")+new URLSearchParams({token:r}),this.server),{method:"PUT"});case 2:if((n=e.sent).ok){e.next=7;break}return e.next=6,n.json();case 6:throw e.sent;case 7:return e.next=9,n.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"sort_params",value:function(e){for(var t in e)switch(typeof e[t]){case"undefined":case"object":delete e[t]}return e}},{key:"category",value:function(){var e=(0,s.Z)(u().mark((function e(t,r){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(new URL("./games/?"+new URLSearchParams(this.sort_params(t)),this.server),{signal:r});case 2:if((n=e.sent).ok){e.next=7;break}return e.next=6,n.json();case 6:throw e.sent;case 7:return e.next=9,n.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),e}();function x(e){var t=(0,l.useState)(!1),r=(0,a.Z)(t,2),n=r[0],s=r[1];return(0,f.jsx)(p.rU,{to:"".concat((0,h.k)("/games/","player"),"?id=").concat(e.id),onClick:function(){return e.layout.current.setState({expanded:!1})},children:(0,f.jsxs)("div",{className:"item",children:[(0,f.jsx)("div",{className:"thumbnail",children:(0,f.jsx)("img",{alt:"",loading:"lazy",onLoad:function(){return s(!0)},"data-loaded":Number(n),src:"/thumbnails/".concat(e.id,".webp")})}),(0,f.jsx)("div",{className:"name",children:(0,f.jsx)(d.mj,{ellipsis:!0,children:e.name})})]})})}function m(e){return(0,f.jsxs)("div",{className:"item loading",children:[(0,f.jsx)("div",{className:"thumbnail"}),(0,f.jsx)("div",{className:"name"})]})}function y(e){var t,r=[],a=(0,n.Z)(e.items);try{for(a.s();!(t=a.n()).done;){var s=t.value;s.loading?r.push((0,f.jsx)(m,{id:s.id,layout:e.layout},s.id)):r.push((0,f.jsx)(x,{id:s.id,name:s.name,layout:e.layout},s.id))}}catch(o){a.e(o)}finally{a.f()}return r}function b(e){return(0,f.jsxs)("section",{children:[(0,f.jsx)("div",{className:"name",children:(0,f.jsx)("h1",{children:e.name})}),(0,f.jsx)("div",{className:"items",children:(0,f.jsx)(y,{items:e.items,layout:e.layout})})]})}},6400:function(e,t,r){"use strict";r.d(t,{Z:function(){return p}});var n=r(5861),a=r(5671),s=r(3144),o=r(7757),c=r.n(o),i=r(9911),u=r(9040),l=function(){function e(t){(0,a.Z)(this,e),this.server=t}return(0,s.Z)(e,[{key:"compat",value:function(){var e=(0,n.Z)(c().mark((function e(t){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(new URL("./compat/".concat(t,"/"),this.server));case 2:if((r=e.sent).ok){e.next=7;break}return e.next=6,r.json();case 6:throw e.sent;case 7:return e.next=9,r.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"game_plays",value:function(){var e=(0,n.Z)(c().mark((function e(t,r){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(new URL("./games/".concat(t,"/plays?")+new URLSearchParams({token:r}),this.server),{method:"PUT"});case 2:if((n=e.sent).ok){e.next=7;break}return e.next=6,n.json();case 6:throw e.sent;case 7:return e.next=9,n.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"sort_params",value:function(e){for(var t in e)switch(typeof e[t]){case"undefined":case"object":delete e[t]}return e}},{key:"category",value:function(){var e=(0,n.Z)(c().mark((function e(t,r){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(new URL("./games/?"+new URLSearchParams(this.sort_params(t)),this.server),{signal:r});case 2:if((n=e.sent).ok){e.next=7;break}return e.next=6,n.json();case 6:throw e.sent;case 7:return e.next=9,n.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),e}();function p(e,t){return d.apply(this,arguments)}function d(){return(d=(0,n.Z)(c().mark((function e(t,r){var n,a,s,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("automatic"!==r){e.next=12;break}return n=new URL(t),a=n.host,s=new l(i.YA),e.prev=3,e.next=6,s.compat(a);case 6:r=e.sent.proxy,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),r=i.nY;case 12:e.t1=r,e.next="stomp"===e.t1?15:"ultraviolet"===e.t1?17:(e.t1,19);break;case 15:return o=(0,u.k)("/compat/","stomp"),e.abrupt("break",21);case 17:return o=(0,u.k)("/compat/","ultraviolet"),e.abrupt("break",21);case 19:return o=(0,u.k)("/compat/","rammerhead"),e.abrupt("break",21);case 21:return e.abrupt("return","".concat(o,"#").concat(t));case 22:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}},1536:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return A}});var n=r(7762),a=r(5671),s=r(3144),o=r(7326),c=r(136),i=r(3668),u=r(5861),l=r(7757),p=r.n(l),d=r(8009),h=r.n(d),f=r(2791),v=r(5829),x=r(9911),m=r(6400),y=r(6740),b=r(8424),k=r(6700),j=r(184),w=(0,k.Z)((0,j.jsx)("path",{d:"m7 14 5-5 5 5z"}),"ArrowDropUp"),g=(0,k.Z)((0,j.jsx)("path",{d:"m14 7-5 5 5 5V7z"}),"ArrowLeft"),_=(0,k.Z)((0,j.jsx)("path",{d:"m7 10 5 5 5-5z"}),"ArrowDropDown"),R=(0,k.Z)((0,j.jsx)("path",{d:"m10 17 5-5-5-5v10z"}),"ArrowRight"),C=(0,k.Z)((0,j.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),Z=(0,k.Z)((0,j.jsx)("path",{d:"M21 6H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-10 7H8v3H6v-3H3v-2h3V8h2v3h3v2zm4.5 2c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm4-3c-.83 0-1.5-.67-1.5-1.5S18.67 9 19.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"}),"VideogameAsset"),L=(0,k.Z)((0,j.jsx)("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),S=(0,k.Z)((0,j.jsx)("path",{d:"m22 9.24-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder"),N=(0,k.Z)((0,j.jsx)("path",{d:"M23 18V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zM8.5 12.5l2.5 3.01L14.5 11l4.5 6H5l3.5-4.5z"}),"Panorama"),E=r(4319),O=r(9631);function M(e,t,r){return U.apply(this,arguments)}function U(){return(U=(0,u.Z)(p().mark((function e(t,r,n){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=r,e.next="proxy"===e.t0?3:"embed"===e.t0?6:"flash"===e.t0?7:"emulator"===e.t0||"emulator.gba"===e.t0||"emulator.nes"===e.t0||"emulator.genesis"===e.t0?8:9;break;case 3:return e.next=5,(0,m.Z)(t,n);case 5:return e.abrupt("return",e.sent);case 6:return e.abrupt("return",t);case 7:return e.abrupt("return","/compat/flash.html#".concat(t));case 8:return e.abrupt("return","/webretro/?"+new URLSearchParams({rom:t,core:"autodetect"}));case 9:throw new TypeError("Unrecognized target: ".concat(r));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A=function(e){(0,c.Z)(r,e);var t=(0,i.Z)(r);function r(e){var n;return(0,a.Z)(this,r),(n=t.call(this,e)).state={controls_expanded:!1,panorama:!1},n.api=new y._V(x.YA),n.settings=new b.Z("common games",{favorites:[],seen:[]}),n.captcha=(0,f.createRef)(),n.iframe=(0,f.createRef)(),n.controls_open=(0,f.createRef)(),n.controls_popup=(0,f.createRef)(),n.abort=new AbortController,n.id=Math.random(),n.focus_listener=n.focus_listener.bind((0,o.Z)(n)),n}return(0,s.Z)(r,[{key:"favorited",get:function(){return this.settings.get("favorites").includes(this.props.id)}},{key:"seen",get:function(){return this.settings.get("seen").includes(this.props.id)},set:function(e){var t=this.settings.get("seen");if(e)t.push(this.props.id);else{var r=t.indexOf(this.props.id);t.splice(r,1)}this.settings.set("seen",t)}},{key:"layout",get:function(){return this.props.layout}},{key:"focus_listener",value:function(){this.iframe.current&&(this.iframe.current.contentWindow.focus(),document.activeElement&&!this.iframe.current.contains(document.activeElement)&&(document.activeElement.blur(),document.activeElement.dispatchEvent(new Event("blur"))))}},{key:"componentDidMount",value:function(){var e=(0,u.Z)(p().mark((function e(){var t,r;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.addEventListener("focus",this.focus_listener),e.next=3,{};case 3:return e.prev=3,e.next=6,this.api.game(this.props.id);case 6:return t=e.sent,e.next=9,M(new URL(t.src,x.Hq).toString(),t.type,this.layout.current.settings.get("proxy"));case 9:return r=e.sent,e.next=12,this.setState({data:t,resolved_src:r});case 12:e.next=19;break;case 14:return e.prev=14,e.t0=e.catch(3),console.error(e.t0),this.setState({error:e.t0}),e.abrupt("return");case 19:case"end":return e.stop()}}),e,this,[[3,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){window.removeEventListener("focus",this.focus_listener),this.abort.abort()}},{key:"render",value:function(){var e=this;if((0,x.jQ)("games-player"),void 0!==this.state.error)return(0,j.jsxs)("main",{className:"error",children:[(0,j.jsxs)("p",{children:["Encountered an error when loading the ",(0,j.jsx)(v.mj,{children:"game"}),":"]}),(0,j.jsx)("pre",{children:this.state.error.message})]});if(void 0===this.state.data)return(0,j.jsx)("main",{children:(0,j.jsxs)("span",{children:["Fetching ",(0,j.jsx)(v.mj,{children:"game"})," info..."]})});var t,r=[],a=(0,n.Z)(this.state.data.controls);try{for(a.s();!(t=a.n()).done;){var s,o=t.value,c=[],i=(0,n.Z)(o.keys);try{for(i.s();!(s=i.n()).done;){var l=s.value;switch(l){case"arrows":c.push((0,j.jsxs)("div",{className:"move",children:[(0,j.jsx)(w,{className:"control-key"}),(0,j.jsx)(g,{className:"control-key"}),(0,j.jsx)(_,{className:"control-key"}),(0,j.jsx)(R,{className:"control-key"})]},l));break;case"wasd":c.push((0,j.jsxs)("div",{className:"move",children:[(0,j.jsx)("div",{className:"control-key",children:"W"}),(0,j.jsx)("div",{className:"control-key",children:"A"}),(0,j.jsx)("div",{className:"control-key",children:"S"}),(0,j.jsx)("div",{className:"control-key",children:"D"})]},l));break;default:c.push((0,j.jsx)("div",{className:"control-key key-".concat(l),children:l},l))}}}catch(d){i.e(d)}finally{i.f()}r.push((0,j.jsxs)("div",{className:"control",children:[(0,j.jsx)("div",{className:"visuals",children:c}),(0,j.jsx)("span",{className:"label",children:o.label})]},o.label))}}catch(d){a.e(d)}finally{a.f()}return(0,j.jsxs)("main",{"data-panorama":Number(this.state.panorama),"data-controls":Number(this.state.controls_expanded),children:[(0,j.jsxs)("div",{className:"frame",children:[(0,j.jsx)("iframe",{ref:this.iframe,title:"Embed",onLoad:function(){e.iframe.current.contentWindow.addEventListener("keydown",(function(e){switch(e.code){case"Space":case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":e.preventDefault()}}))},onClick:function(){return e.focus_listener()},onFocus:function(){return e.focus_listener()},src:this.state.resolved_src}),(0,j.jsxs)("div",{tabIndex:"0",className:"controls",ref:this.controls_popup,onBlur:function(t){t.target.contains(t.relatedTarget)||e.controls_open.current.contains(t.relatedTarget)||e.setState({controls_expanded:!1})},children:[(0,j.jsx)(C,{className:"close",onClick:function(){return e.setState({controls_expanded:!1})}}),(0,j.jsx)("div",{className:"controls",children:r})]})]}),(0,j.jsxs)("div",{className:"title",children:[(0,j.jsx)("h3",{className:"name",children:(0,j.jsx)(v.mj,{children:this.state.data.name})}),(0,j.jsx)("div",{className:"shift-right"}),(0,j.jsx)("div",{className:"button",onClick:function(){e.focus_listener(),e.iframe.current.requestFullscreen()},children:(0,j.jsx)(E.Z,{})}),0!==r.length&&(0,j.jsx)("div",{className:"button",ref:this.controls_open,onClick:(0,u.Z)(p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({controls_expanded:!e.state.controls_expanded});case 2:e.controls_popup.current.focus();case 3:case"end":return t.stop()}}),t)}))),children:(0,j.jsx)(Z,{})}),(0,j.jsx)("div",{className:"button",onClick:function(){var t=e.settings.get("favorites"),r=t.indexOf(e.props.id);-1===r?t.push(e.props.id):t.splice(r,1),e.settings.set("favorites",t),e.forceUpdate()},children:this.favorited?(0,j.jsx)(L,{}):(0,j.jsx)(S,{})}),(0,j.jsx)("div",{className:"button",onClick:(0,u.Z)(p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({panorama:!e.state.panorama});case 2:e.state.panorama&&e.focus_listener();case 3:case"end":return t.stop()}}),t)}))),children:this.state.panorama?(0,j.jsx)(O.Z,{}):(0,j.jsx)(N,{})})]}),(0,j.jsx)(h(),{onLoad:(0,u.Z)(p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.seen){t.next=6;break}return t.next=3,e.captcha.current.ready;case 3:return e.captcha_seen=!0,t.next=6,e.captcha.current.execute();case 6:case"end":return t.stop()}}),t)}))),onVerify:function(){var t=(0,u.Z)(p().mark((function t(r){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!0!==e.captcha_seen){t.next=5;break}return e.captcha_seen=!1,t.next=4,e.api.game_plays(e.props.id,r);case 4:e.seen=!0;case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),sitekey:x.uH,size:"invisible",ref:this.captcha})]})}}]),r}(f.Component)},8009:function(e,t,r){"use strict";var n=r(5318),a=n(r(8)),s=n(r(4575)),o=n(r(3913)),c=n(r(1506)),i=n(r(2205)),u=n(r(8585)),l=n(r(9754));function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,l.default)(e);if(t){var a=(0,l.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,u.default)(this,r)}}var d=r(2791),h=r(102).generateQuery,f=[],v=!1,x=function(e){(0,i.default)(r,e);var t=p(r);function r(e){var n;(0,s.default)(this,r),(n=t.call(this,e)).renderCaptcha=n.renderCaptcha.bind((0,c.default)(n)),n.resetCaptcha=n.resetCaptcha.bind((0,c.default)(n)),n.removeCaptcha=n.removeCaptcha.bind((0,c.default)(n)),n.isReady=n.isReady.bind((0,c.default)(n)),n.handleOnLoad=n.handleOnLoad.bind((0,c.default)(n)),n.handleSubmit=n.handleSubmit.bind((0,c.default)(n)),n.handleExpire=n.handleExpire.bind((0,c.default)(n)),n.handleError=n.handleError.bind((0,c.default)(n)),n.handleOpen=n.handleOpen.bind((0,c.default)(n)),n.handleClose=n.handleClose.bind((0,c.default)(n)),n.handleChallengeExpired=n.handleChallengeExpired.bind((0,c.default)(n));var a="undefined"!==typeof hcaptcha;return n.ref=d.createRef(),n.state={isApiReady:a,isRemoved:!1,elementId:e.id,captchaId:""},n}return(0,o.default)(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.apihost,r=e.assethost,n=e.endpoint,a=e.host,s=e.imghost,o=e.languageOverride,c=e.reCaptchaCompat,i=e.reportapi,u=e.sentry,l=e.custom;this.state.isApiReady?this.renderCaptcha():(v||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};v=!0,window.hcaptchaOnLoad=function(){f=f.filter((function(e){return e(),!1}))};var t=e.apihost||"https://js.hcaptcha.com";delete e.apihost;var r=document.createElement("script");r.src="".concat(t,"/1/api.js?render=explicit&onload=hcaptchaOnLoad"),r.async=!0;var n=h(e);r.src+=""!==n?"&".concat(n):"",document.head.appendChild(r)}({apihost:t,assethost:r,endpoint:n,hl:o,host:a,imghost:s,recaptchacompat:!1===c?"off":null,reportapi:i,sentry:u,custom:l}),f.push(this.handleOnLoad))}},{key:"componentWillUnmount",value:function(){var e=this.state.captchaId;this.isReady()&&(hcaptcha.reset(e),hcaptcha.remove(e))}},{key:"shouldComponentUpdate",value:function(e,t){return this.state.isApiReady===t.isApiReady&&this.state.isRemoved===t.isRemoved}},{key:"componentDidUpdate",value:function(e){var t=this;["sitekey","size","theme","tabindex","languageOverride","endpoint"].every((function(r){return e[r]===t.props[r]}))||this.removeCaptcha((function(){t.renderCaptcha()}))}},{key:"renderCaptcha",value:function(e){if(this.state.isApiReady){var t=Object.assign({"open-callback":this.handleOpen,"close-callback":this.handleClose,"error-callback":this.handleError,"chalexpired-callback":this.handleChallengeExpired,"expired-callback":this.handleExpire,callback:this.handleSubmit},this.props,{hl:this.props.hl||this.props.languageOverride,languageOverride:void 0}),r=hcaptcha.render(this.ref.current,t);this.setState({isRemoved:!1,captchaId:r},(function(){e&&e()}))}}},{key:"resetCaptcha",value:function(){var e=this.state.captchaId;this.isReady()&&hcaptcha.reset(e)}},{key:"removeCaptcha",value:function(e){var t=this.state.captchaId;this.isReady()&&this.setState({isRemoved:!0},(function(){hcaptcha.remove(t),e&&e()}))}},{key:"handleOnLoad",value:function(){var e=this;this.setState({isApiReady:!0},(function(){e.renderCaptcha((function(){var t=e.props.onLoad;t&&t()}))}))}},{key:"handleSubmit",value:function(e){var t=this.props.onVerify,r=this.state,n=r.isRemoved,a=r.captchaId;"undefined"===typeof hcaptcha||n||t(hcaptcha.getResponse(a),hcaptcha.getRespKey(a))}},{key:"handleExpire",value:function(){var e=this.props.onExpire,t=this.state.captchaId;this.isReady()&&(hcaptcha.reset(t),e&&e())}},{key:"handleError",value:function(e){var t=this.props.onError,r=this.state.captchaId;this.isReady()&&(hcaptcha.reset(r),t&&t(e))}},{key:"isReady",value:function(){var e=this.state,t=e.isApiReady,r=e.isRemoved;return t&&!r}},{key:"handleOpen",value:function(){this.isReady()&&this.props.onOpen&&this.props.onOpen()}},{key:"handleClose",value:function(){this.isReady()&&this.props.onClose&&this.props.onClose()}},{key:"handleChallengeExpired",value:function(){this.isReady()&&this.props.onChalExpired&&this.props.onChalExpired()}},{key:"execute",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.state.captchaId;if(this.isReady())return e&&"object"!==(0,a.default)(e)&&(e=null),hcaptcha.execute(t,e)}},{key:"render",value:function(){var e=this.state.elementId;return d.createElement("div",{ref:this.ref,id:e})}}]),r}(d.Component);e.exports=x},102:function(e,t,r){"use strict";var n=r(5318)(r(3038));e.exports={generateQuery:function(e){return Object.entries(e).filter((function(e){var t=(0,n.default)(e,2),r=(t[0],t[1]);return r||!1===r})).map((function(e){var t=(0,n.default)(e,2),r=t[0],a=t[1];return"".concat(encodeURIComponent(r),"=").concat(encodeURIComponent(a))})).join("&")}}},9631:function(e,t,r){"use strict";var n=r(6700),a=r(184);t.Z=(0,n.Z)((0,a.jsx)("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft")},4319:function(e,t,r){"use strict";var n=r(6700),a=r(184);t.Z=(0,n.Z)((0,a.jsx)("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"}),"Fullscreen")}}]);
//# sourceMappingURL=536.1a427751.chunk.js.map